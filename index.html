<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LastWar S5 Coffee Calc</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500;700&family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <header>
        <h1><span data-t="title">コーヒー生産計算機</span> <span class="subtitle">LastWar S5 Coffee Calc Lv.49</span></h1>
        <div class="lang-switch">
            <img src="https://flagcdn.com/w80/jp.png" class="flag-icon active" onclick="app.setLang('ja')" alt="JP">
            <img src="https://flagcdn.com/w80/us.png" class="flag-icon" onclick="app.setLang('en')" alt="EN">
        </div>
    </header>

    <div class="card">
        <h2>
            <span data-t="h_prod">生産設定</span>
            <span id="total-prod" class="font-mono text-primary" style="font-size:1.1rem;">0/h</span>
        </h2>
        <div class="grid cols-4" id="factory-area">
            </div>
        <div class="grid cols-2 mt-md">
            <div>
                <label data-t="weekly">週間配達</label>
                <select id="weekly-lv" onchange="app.calc()"></select>
            </div>
            <div>
                <label data-t="time">現在時刻</label>
                <div class="time-wrapper">
                    <input type="time" id="now-time" onchange="app.calc()">
                    <button class="btn-now" onclick="app.setNow()" data-t="btn_now">現在</button>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <h2 data-t="h_status">目標と在庫</h2>
        <div class="grid cols-2">
            <div>
                <label data-t="cur_lv">現在 Lv</label>
                <select id="lab-cur" onchange="app.calc()"></select>
            </div>
            <div>
                <label data-t="tgt_lv">目標 Lv</label>
                <select id="lab-tgt" onchange="app.calc()"></select>
            </div>
            <div>
                <label data-t="stock">保有量</label>
                <input type="text" id="stock" placeholder="0 (1K, 1M...)" onfocus="this.select()" oninput="app.calc()">
            </div>
            <div>
                <label data-t="disc">割引率 (%)</label>
                <select id="discount" onchange="app.calc()"></select>
            </div>
        </div>
    </div>

    <div class="card result-card">
        <h2 data-t="h_res">計算結果</h2>
        <div class="res-row">
            <span data-t="r_daily">日産 (24h)</span>
            <span class="res-val" id="res-daily">0</span>
        </div>
        <div class="res-row">
            <span data-t="r_cost">必要総数</span>
            <span class="res-val" id="res-cost">0</span>
        </div>
        <div class="res-row">
            <span data-t="r_virus">ウイルス耐性</span>
            <span class="res-val" id="res-virus">0 → 0</span>
        </div>
        
        <div class="highlight-box">
            <div id="status-msg" style="font-weight:bold; font-size:0.9rem;">入力待ち</div>
            
            <span class="big-time font-mono" id="res-time">--:--</span>
            <span class="big-date" id="res-date">--/--</span>
            
            <div class="shortage-area">
                <span data-t="r_short" style="font-size:0.85rem; font-weight:bold;">不足</span>
                <span id="res-short" class="font-mono" style="font-size:1.3rem; font-weight:900;">0</span>
            </div>
        </div>
    </div>

    <div class="btn-group">
        <button class="btn btn-save" onclick="app.save()" data-t="btn_save">設定を保存</button>
        <button class="btn btn-reset" onclick="app.reset()" data-t="btn_reset">リセット</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>


















